# 🚀 部署前检查清单

在将项目部署到生产环境之前，请逐项检查以下配置：

## 🔧 必须配置的项目

### 1. API配置 (scripts/api.js)

- [ ] **Formspree ID**: 将第4行的 `YOUR_FORMSPREE_ID` 替换为实际的Formspree表单ID
  ```javascript
  formURL: 'https://formspree.io/f/你的实际ID',
  ```

- [ ] **Google Analytics ID**: 将第6行的 `G-YOUR_GA4_MEASUREMENT_ID` 替换为实际的GA4测量ID
  ```javascript
  ga4MeasurementId: 'G-你的实际ID',
  ```

### 2. HTML配置 (index.html)

- [ ] **GA4脚本**: 将第13行的 `G-YOUR_GA4_MEASUREMENT_ID` 替换为实际ID
  ```html
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-你的实际ID"></script>
  ```

- [ ] **GA4配置**: 将第20行和第33行的 `G-YOUR_GA4_MEASUREMENT_ID` 替换为实际ID
  ```javascript
  gtag('config', 'G-你的实际ID', {
  ```

## 🎯 内容检查

### 3. 页面内容

- [ ] **标题和描述**: 检查SEO标签是否合适
- [ ] **联系方式**: 确认页脚链接和联系方式正确
- [ ] **微信群二维码**: 如果使用，替换为实际二维码图片
- [ ] **倒计时设置**: 在 `scripts/main.js` 中确认倒计时天数

### 4. 样式和布局

- [ ] **响应式测试**: 在不同设备尺寸下检查布局
- [ ] **字体显示**: 确认中文字体正常显示
- [ ] **颜色方案**: 检查品牌色彩一致性
- [ ] **动画效果**: 确认动画流畅不卡顿

## 🧪 功能测试

### 5. 核心功能

- [ ] **邮箱提交**: 测试邮箱验证和提交流程
- [ ] **重复提交**: 测试重复邮箱的检测机制
- [ ] **离线功能**: 断网测试本地存储功能
- [ ] **数据同步**: 测试网络恢复后的数据同步
- [ ] **事件追踪**: 确认GA4事件正常触发

### 6. 用户体验

- [ ] **页面加载速度**: 目标 < 3秒
- [ ] **交互响应**: 按钮点击及时反馈
- [ ] **表单验证**: 实时邮箱格式验证
- [ ] **错误处理**: 友好的错误提示信息

## 🔒 安全检查

### 7. 数据安全

- [ ] **HTTPS**: 确保部署环境启用HTTPS
- [ ] **API安全**: 不在前端暴露敏感信息
- [ ] **输入验证**: 所有用户输入都经过验证
- [ ] **XSS防护**: 确认没有XSS漏洞

### 8. 隐私合规

- [ ] **Cookie同意**: 如需要，添加Cookie同意弹窗
- [ ] **数据政策**: 准备隐私政策页面
- [ ] **GDPR合规**: 确认符合GDPR要求
- [ ] **数据删除**: 提供数据删除机制

## 📊 性能优化

### 9. 加载优化

- [ ] **图片优化**: 如果有图片，确认已优化
- [ ] **CSS压缩**: 生产环境压缩CSS文件
- [ ] **JS压缩**: 生产环境压缩JS文件
- [ ] **缓存策略**: 设置合适的缓存头

### 10. 监控配置

- [ ] **错误监控**: 设置前端错误收集
- [ ] **性能监控**: 配置性能指标追踪
- [ ] **用户行为**: 确认事件追踪完整
- [ ] **转化追踪**: 设置关键转化点追踪

## 🚀 部署配置

### 11. 环境设置

- [ ] **生产环境**: 区分开发和生产配置
- [ ] **域名配置**: 设置自定义域名（如需要）
- [ ] **SSL证书**: 确认HTTPS正常工作
- [ ] **DNS解析**: 域名正确解析到服务器

### 12. 备份策略

- [ ] **代码备份**: Git仓库最新代码
- [ ] **配置备份**: 保存所有配置文件
- [ ] **数据备份**: 导出现有数据（如有）
- [ ] **回滚计划**: 准备回滚方案

## ✅ 最终验证

### 13. 部署后测试

- [ ] **访问测试**: 通过外网正常访问
- [ ] **功能测试**: 所有功能正常工作
- [ ] **性能测试**: 页面加载速度达标
- [ ] **兼容性测试**: 主流浏览器正常显示
- [ ] **移动端测试**: 手机端正常使用

### 14. 监控检查

- [ ] **GA4数据**: 确认数据正常收集
- [ ] **邮箱提交**: Formspree正常收到邮件
- [ ] **错误日志**: 检查是否有JavaScript错误
- [ ] **用户反馈**: 准备收集用户反馈的渠道

---

## 🚨 重要提醒

1. **不要在生产环境使用测试数据**
2. **定期检查API配额和使用情况**
3. **监控第三方服务的可用性**
4. **保持依赖库的更新**

## 📞 紧急联系

如果部署过程中遇到问题：

- Formspree支持: https://formspree.io/help
- Netlify支持: https://www.netlify.com/support
- Google Analytics帮助: https://support.google.com/analytics

---

**✅ 完成以上所有检查项后，你的网站就可以安全上线了！**